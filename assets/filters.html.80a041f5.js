import{_ as n}from"./plugin-vue_export-helper.21dcd24c.js";import{d as s}from"./app.c44d87ff.js";const a={},p=s(`<h1 id="\u8FC7\u6EE4\u5668" tabindex="-1"><a class="header-anchor" href="#\u8FC7\u6EE4\u5668" aria-hidden="true">#</a> \u8FC7\u6EE4\u5668</h1><h2 id="\u5168\u5C40\u8FC7\u6EE4\u5668-\u5EFA\u8BAE" tabindex="-1"><a class="header-anchor" href="#\u5168\u5C40\u8FC7\u6EE4\u5668-\u5EFA\u8BAE" aria-hidden="true">#</a> \u5168\u5C40\u8FC7\u6EE4\u5668\uFF08\u5EFA\u8BAE\uFF09</h2><p>FreeSql \u57FA\u7840\u5C42\u5B9E\u73B0\u4E86 Select/Update/Delete \u53EF\u8BBE\u7F6E\u7684\u5168\u5C40\u8FC7\u6EE4\u5668\u529F\u80FD\u3002</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">AsyncLocal<span class="token punctuation">&lt;</span>Guid<span class="token punctuation">&gt;</span></span> TenantId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AsyncLocal<span class="token punctuation">&lt;</span>Guid<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

fsql<span class="token punctuation">.</span>GlobalFilter
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Apply</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>TestAddEnum<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;test1&quot;</span><span class="token punctuation">,</span> a <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span>Id <span class="token operator">==</span> TenantId<span class="token punctuation">.</span>Value<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Apply</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AuthorTest<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;test2&quot;</span><span class="token punctuation">,</span> a <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span>Id <span class="token operator">==</span> <span class="token number">111</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Apply</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AuthorTest<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;test3&quot;</span><span class="token punctuation">,</span> a <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span>Name <span class="token operator">==</span> <span class="token string">&quot;11&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ApplyIf</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>TestAddEnum<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;test4&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> TenantId<span class="token punctuation">.</span>Value <span class="token operator">!=</span> Guid<span class="token punctuation">.</span>Empty<span class="token punctuation">,</span> a <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span>Id <span class="token operator">==</span> TenantId<span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//1.9.0 ApplyIf \u59D4\u6258\u7684\u8FD4\u56DE\u503C(\u7B2C\u4E8C\u4E2A\u53C2\u6570) true \u624D\u751F\u6548</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Apply \u6CDB\u578B\u53C2\u6570\u53EF\u4EE5\u8BBE\u7F6E\u4E3A\u4EFB\u4F55\u7C7B\u578B\uFF0C\u5F53\u4F7F\u7528 Select/Update/Delete \u65B9\u6CD5\u65F6\u4F1A\u8FDB\u884C\u8FC7\u6EE4\u5668\u5339\u914D\u5C1D\u8BD5\uFF08try catch\uFF09\uFF1A</p><ul><li>\u5339\u914D\u6210\u529F\u7684\uFF0C\u5C06\u9644\u52A0 where \u6761\u4EF6\uFF1B</li><li>\u5339\u914D\u5931\u8D25\u7684\uFF0C\u6807\u8BB0\u4E0B\u6B21\u4E0D\u518D\u5339\u914D\uFF0C\u907F\u514D\u6027\u80FD\u635F\u8017\uFF1B</li></ul><p>\u5982\u4F55\u7981\u7528\uFF1F</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code>fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>TestAddEnum<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u6240\u6709\u751F\u6548</span>
fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>TestAddEnum<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">DisableGlobalFilter</span><span class="token punctuation">(</span><span class="token string">&quot;test1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u7981\u7528 test1</span>
fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>TestAddEnum<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">DisableGlobalFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u7981\u7528\u6240\u6709</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>fsql.Update/Delete \u65B9\u6CD5\u6548\u679C\u540C\u4E0A\u3002</p><h2 id="\u4ED3\u50A8\u8FC7\u6EE4\u5668" tabindex="-1"><a class="header-anchor" href="#\u4ED3\u50A8\u8FC7\u6EE4\u5668" aria-hidden="true">#</a> \u4ED3\u50A8\u8FC7\u6EE4\u5668</h2><blockquote><p>\u6CE8\u610F\uFF1A\u4ED3\u50A8\u8FC7\u6EE4\u5668\u5C5E\u4E8E\u65E9\u671F\u529F\u80FD\uFF0C\u5982\u679C fsql.GlobalFilter \u591F\u7528\u7684\u8BDD\uFF0C\u53EF\u4EE5\u8DF3\u8FC7\u4EE5\u4E0B\u5185\u5BB9\u3002</p></blockquote><p>FreeSql.Repository \u4E5F\u5B9E\u73B0\u4E86\u8FC7\u6EE4\u5668\u529F\u80FD\uFF0C\u5B83\u5728\u67E5\u8BE2\u65F6\u8FC7\u6EE4\uFF0C\u5220\u9664/\u4FEE\u6539/\u63D2\u5165\u7BC7\u8FD8\u4F1A\u8FDB\u884C\u9A8C\u8BC1\u6570\u636E\uFF0C\u907F\u514D\u6570\u636E\u5B89\u5168\u95EE\u9898\u3002</p><blockquote><p>\u6CE8\u610F\uFF1A\u4ED3\u50A8\u7684\u8FC7\u6EE4\u5668\u4E0E IFreeSql.GlobalFilter \u4E0D\u662F\u4E00\u4E2A\u529F\u80FD\uFF0C\u53EF\u4EE5\u540C\u65F6\u751F\u6548\u3002</p></blockquote><blockquote><p>\u63A8\u8350\u4F7F\u7528 IFreeSql.GlobalFilter\u3002\u4ED3\u50A8\u8FC7\u6EE4\u5668\u5728\u65E9\u671F\u51FA\u7684\u529F\u80FD\uFF0C\u4F1A\u4E00\u76F4\u4FDD\u7559\u3002</p></blockquote><p>\u6BCF\u4E2A\u4ED3\u50A8\u5B9E\u4F8B\u90FD\u6709 IDataFilter \u5C5E\u6027\uFF0C\u53EF\u5229\u7528\u5176\u5B8C\u6210\u8FC7\u6EE4\u5668\u7BA1\u7406\uFF0C\u5B83\u662F\u72EC\u7ACB\u7684\u4FEE\u6539\u540E\u4E0D\u5F71\u54CD\u5168\u5C40\u3002</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IDataFilter<span class="token punctuation">&lt;</span>TEntity<span class="token punctuation">&gt;</span></span> <span class="token keyword">where</span> <span class="token class-name">TEntity</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token keyword">class</span></span> <span class="token punctuation">{</span>
    <span class="token return-type class-name">IDataFilter<span class="token punctuation">&lt;</span>TEntity<span class="token punctuation">&gt;</span></span> <span class="token function">Apply</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> filterName<span class="token punctuation">,</span> <span class="token class-name">Expression<span class="token punctuation">&lt;</span>Func<span class="token punctuation">&lt;</span>TEntity<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> filterAndValidateExp<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token return-type class-name">IDisposable</span> <span class="token function">Enable</span><span class="token punctuation">(</span><span class="token keyword">params</span> <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> filterName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">IDisposable</span> <span class="token function">EnableAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token return-type class-name">IDisposable</span> <span class="token function">Disable</span><span class="token punctuation">(</span><span class="token keyword">params</span> <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> filterName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">IDisposable</span> <span class="token function">DisableAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">IsEnabled</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> filterName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="\u4E34\u65F6\u7981\u7528" tabindex="-1"><a class="header-anchor" href="#\u4E34\u65F6\u7981\u7528" aria-hidden="true">#</a> \u4E34\u65F6\u7981\u7528</h2><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token punctuation">(</span>repo1<span class="token punctuation">.</span>DataFilter<span class="token punctuation">.</span><span class="token function">Disable</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//\u5728\u8FD9\u6BB5\u4E2D\uFF0Crepo1 \u4E4B test \u8FC7\u6EE4\u5668\u5931\u6548</span>
<span class="token punctuation">}</span>

<span class="token comment">//repo1 \u4E4B test \u8FC7\u6EE4\u5668\u91CD\u65B0\u751F\u6548</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="\u8FC7\u6EE4\u4E0E\u9A8C\u8BC1" tabindex="-1"><a class="header-anchor" href="#\u8FC7\u6EE4\u4E0E\u9A8C\u8BC1" aria-hidden="true">#</a> \u8FC7\u6EE4\u4E0E\u9A8C\u8BC1</h2><p>\u5047\u8BBE\u6211\u4EEC\u6709 User(\u7528\u6237)\u3001Topic(\u4E3B\u9898)\u4E24\u4E2A\u5B9E\u4F53\uFF0C\u5728\u9886\u57DF\u7C7B\u4E2D\u5B9A\u4E49\u4E86\u4E24\u4E2A\u4ED3\u50A8\uFF1A</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> userRepository <span class="token operator">=</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetGuidRepository</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>User<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> topicRepository <span class="token operator">=</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetGuidRepository</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Topic<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\uFF0C\u603B\u662F\u62C5\u5FC3 topicRepository \u7684\u6570\u636E\u5B89\u5168\u95EE\u9898\uFF0C\u5373\u6709\u53EF\u80FD\u67E5\u8BE2\u6216\u64CD\u4F5C\u5230\u5176\u4ED6\u7528\u6237\u7684\u4E3B\u9898\u3002\u56E0\u6B64\u6211\u4EEC\u5728 v0.0.7 \u7248\u672C\u8FDB\u884C\u4E86\u6539\u8FDB\uFF0C\u589E\u52A0\u4E86 filter lambda \u8868\u8FBE\u5F0F\u53C2\u6570\u3002</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> userRepository <span class="token operator">=</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetGuidRepository</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>User<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>a <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span>Id <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> topicRepository <span class="token operator">=</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetGuidRepository</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Topic<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>a <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span>UserId <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>\u5728\u67E5\u8BE2/\u4FEE\u6539/\u5220\u9664\u65F6\u9644\u52A0\u6B64\u6761\u4EF6\uFF0C\u4ECE\u800C\u8FBE\u5230\u4E0D\u4F1A\u4FEE\u6539\u5176\u4ED6\u7528\u6237\u7684\u6570\u636E\uFF1B</li><li>\u5728\u6DFB\u52A0\u65F6\uFF0C\u4F7F\u7528\u8868\u8FBE\u5F0F\u9A8C\u8BC1\u6570\u636E\u7684\u5408\u6CD5\u6027\uFF0C\u82E5\u4E0D\u5408\u6CD5\u5219\u629B\u51FA\u5F02\u5E38\uFF1B</li></ul><p>\u4ED3\u50A8\u8FC7\u6EE4\u5668\uFF0C\u53EF\u5E2E\u52A9\u5B9E\u73B0\u201C\u8F6F\u5220\u9664\u201D\u3001\u201C\u79DF\u6237\u201D\u7B49\u8BBE\u8BA1\uFF0C\u76EE\u524D\u4F7F\u7528 AspNetCore \u6CE8\u5165\u7684\u65B9\u5F0F\u5B9E\u73B0\u7684\u4ED3\u50A8\u8FC7\u6EE4\u5668\u3002</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">ConfigureServices</span><span class="token punctuation">(</span><span class="token class-name">IServiceCollection</span> services<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddSingleton</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IFreeSql<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>Fsql<span class="token punctuation">)</span><span class="token punctuation">;</span>
    services<span class="token punctuation">.</span><span class="token function">AddFreeRepository</span><span class="token punctuation">(</span>filter <span class="token operator">=&gt;</span> filter
        <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Apply</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ISoftDelete<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;SoftDelete&quot;</span><span class="token punctuation">,</span> a <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span>IsDeleted <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Apply</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ITenant<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;Tenant&quot;</span><span class="token punctuation">,</span> a <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span>TenantId <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Apply</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ITenant<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;Song&quot;</span><span class="token punctuation">,</span> a <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span>TenantId <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">,</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Assembly
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>\u6BD4 abpvnext \u8FD8\u8981\u65B9\u4FBF\uFF0C\u56E0\u4E3A abp \u7684\u76F8\u5173\u5B9E\u4F53\u9700\u8981\u5B9E\u73B0\u63A5\u53E3 ISoftDelete\u3001ITenant\uFF1B</p><p>\u6211\u4EEC\u6CA1\u6709\u8FD9\u4E2A\u9650\u5236\uFF0C\u53EA\u8981\u8FC7\u6EE4\u5668\u7684\u8868\u8FBE\u5F0F\u89E3\u6790\u6210\u529F\uFF0C\u5C31\u7B97\u53EF\u7528\uFF1B</p><p>\u4F7F\u7528\u5728\u4EFB\u4F55\u5B9E\u4F53\u4E0A\u7684\u65F6\u5019\uFF0C\u53EA\u8981 [\u5B9E\u4F53].IsDeleted == false \u80FD\u89E3\u6790\u80FD\u8FC7\uFF0C\u5C31\u7B97\u53EF\u7528\uFF1B</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">xxxx</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Song</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Column</span><span class="token attribute-arguments"><span class="token punctuation">(</span>IsIdentity <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Title <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//\u5728\u63A7\u5236\u5668\u4F7F\u7528</span>
<span class="token keyword">public</span> <span class="token function">SongsController</span><span class="token punctuation">(</span><span class="token class-name">IBaseRepository<span class="token punctuation">&lt;</span>Song<span class="token punctuation">&gt;</span></span> repo1<span class="token punctuation">,</span> <span class="token class-name">IBaseRepository<span class="token punctuation">&lt;</span>xxxx<span class="token punctuation">&gt;</span></span> repos2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//\u5728\u6B64\u6253\u65AD\u70B9\uFF0C\u8C03\u8BD5</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>\u7B2C\u4E00\u6B21\u8BF7\u6C42\uFF1A</p><p>repo1.Select.ToSql()</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token string">&quot;SELECT a.&quot;</span>Id<span class="token string">&quot;, a.&quot;</span>Title<span class="token string">&quot;  FROM &quot;</span>Song<span class="token string">&quot; a WHERE (a.&quot;</span>Title<span class="token string">&quot; = strftime(&#39;%Y-%m-%d %H:%M.%f&#39;,datetime(current_timestamp,&#39;localtime&#39;)) || 21)&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>repos2.Select.ToSql()</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token string">&quot;SELECT a.&quot;</span>Id<span class="token string">&quot;  FROM &quot;</span>xxxx<span class="token string">&quot; a&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u7B2C\u4E8C\u6B21\u8BF7\u6C42\uFF1A</p><p>repo1.Select.ToSql()</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token string">&quot;SELECT a.&quot;</span>Id<span class="token string">&quot;, a.&quot;</span>Title<span class="token string">&quot;  FROM &quot;</span>Song<span class="token string">&quot; a  WHERE (a.&quot;</span>Title<span class="token string">&quot; = strftime(&#39;%Y-%m-%d %H:%M.%f&#39;,datetime(current_timestamp,&#39;localtime&#39;)) || 4)&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>repos2.Select.ToSql()</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token string">&quot;SELECT a.&quot;</span>Id<span class="token string">&quot;  FROM &quot;</span>xxxx<span class="token string">&quot; a&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>//\u7981\u7528\u8FC7\u6EE4\u5668 repo1.DataFilter.Disable(&quot;test&quot;)</p><p>repo1.Select.ToSql()</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code> <span class="token string">&quot;SELECT a.&quot;</span>Id<span class="token string">&quot;, a.&quot;</span>Title<span class="token string">&quot;  FROM &quot;</span>Song<span class="token string">&quot; a&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>1\u3001\u6CE8\u5165\u7684\u53D8\u91CF\u503C\u5728\u4F7F\u7528\u65F6\u6709\u4E86\u52A8\u6001\u53D8\u5316\uFF0C\u6BCF\u6B21\u83B7\u53D6\u65F6\u90FD\u662F\u65B0\u7684\uFF08Thread.CurrentThread.ManagedThreadId\uFF09\uFF1B</p><p>2\u3001\u8BBE\u5B9A\u7684\u5168\u5C40\u8FC7\u6EE4\uFF0C\u82E5\u67D0\u5B9E\u4F53\u4E0D\u5B58\u5728\u8868\u8FBE\u5F0F\u51FD\u6570\u4E2D\u7684\u5B57\u6BB5\u65F6\uFF0C\u4E0D\u4F1A\u751F\u6548\uFF08\u5982\u4E0A xxxx \u4E0D\u5B58\u5728 Title\uFF09\uFF1B</p><p>3\u3001\u4F7F\u7528 DataFilter.Disable(&quot;test&quot;) \u53EF\u4E34\u65F6\u5173\u95ED\u8FC7\u6EE4\u5668\u7684\u6548\u679C\uFF0C\u4F7F\u7528 DataFilter.Enable(&quot;test&quot;) \u53EF\u91CD\u65B0\u5F00\u542F\uFF1B</p><p>4\u3001\u4ED3\u50A8\u5BF9\u8C61\u521B\u5EFA\u65F6\uFF0C\u4ECE\u5168\u5C40\u8FC7\u6EE4\u5668 copy \u8FDB\u6765\uFF0C\u7136\u540E\u81EA\u5DF1\u7BA1\u7406\u81EA\u5DF1\u3002\u4FEE\u6539\u540E\u4E0D\u5F71\u54CD\u5176\u4ED6\u6216\u5168\u5C40\u8BBE\u7F6E\u3002</p>`,47);function t(e,o){return p}var u=n(a,[["render",t],["__file","filters.html.vue"]]);export{u as default};
