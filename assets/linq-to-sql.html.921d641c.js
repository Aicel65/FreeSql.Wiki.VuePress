import{_ as n}from"./plugin-vue_export-helper.21dcd24c.js";import{d as s}from"./app.92239354.js";const a={},p=s(`<h1 id="linqtosql" tabindex="-1"><a class="header-anchor" href="#linqtosql" aria-hidden="true">#</a> LinqToSql</h1><p>\u539F\u672C\u4E0D\u652F\u6301 IQueryable \u4E3B\u8981\u51FA\u4E8E\u4F7F\u7528\u4E60\u60EF\u7684\u8003\u8651\uFF0C\u7F16\u5199\u4EE3\u7801\u7684\u667A\u80FD\u603B\u4F1A\u63D0\u793A\u51FA\u73B0\u4E00\u5806\u4F60\u4E0D\u60F3\u4F7F\u7528\u7684\u65B9\u6CD5\uFF08\u5BF9\u4E0D\u8D77\uFF0C\u6211\u6709\u5F3A\u8FEB\u75C7\uFF09\uFF0CIQueryable \u81EA\u8EAB\u63D0\u4F9B\u4E86\u4E00\u5806\u6CA1\u6CD5\u5B9E\u73B0\u7684\u65B9\u6CD5\uFF0C\u8FD8\u6709\u5916\u90E8\u5165\u4FB5\u7684\u6269\u5C55\u65B9\u6CD5\uFF0C\u4E25\u91CD\u5F71\u54CD\u7F16\u7801\u4F53\u9A8C\u3002\u5982\u4E0B\u56FE\uFF1A</p><p><img src="https://user-images.githubusercontent.com/16286519/57295126-5dd7bd00-70fc-11e9-99c0-d1c46423afa2.png" alt="image" loading="lazy"></p><p>v1.4.0+ \u7248\u672C\u8BF7\u4F7F\u7528\u4EE5\u4E0B\u547D\u4EE4\u5B89\u88C5\uFF08\u8001\u7248\u672C\u4E0D\u9700\u8981\u5B89\u88C5\uFF09\uFF1A</p><blockquote><p>dotnet add package FreeSql.Extensions.Linq</p></blockquote><h2 id="\u7279\u522B\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#\u7279\u522B\u8BF4\u660E" aria-hidden="true">#</a> \u7279\u522B\u8BF4\u660E</h2><ul><li><p>\u8BF7\u5C3D\u91CF\u4E0D\u8981\u5728 ISelect \u6A21\u5F0F\u4E0B\u7684\u4F7F\u7528 Linq \u65B9\u6CD5\uFF1AGroupJoin\u3001Select\u3001SelectMany\u3001Join\u3001DefaultIfEmpty\uFF1B</p></li><li><p>\u5982\u679C\u4E00\u5B9A\u8981\u5728 ISelect \u4E2D\u4F7F\u7528 .Select() \u65B9\u6CD5\uFF0C\u8BF7\u52A1\u5FC5\u5728 .ToList() \u4E4B\u524D\u8C03\u7528\u5B83\uFF1B</p></li></ul><h2 id="iqueryable" tabindex="-1"><a class="header-anchor" href="#iqueryable" aria-hidden="true">#</a> IQueryable</h2><p>FreeSql \u63D0\u4F9B\u5F3A\u5927\u7684\u6570\u636E\u67E5\u8BE2\u5BF9\u8C61 ISelect\u3002</p><p>FreeSql.Extensions.Linq v1.4.0+ \u5B9E\u73B0\u4E86 IQueryable \u67E5\u8BE2\u5BF9\u8C61\u5E38\u7528\u529F\u80FD\uFF0C\u4EE5\u4FBF\u5728\u5404\u6846\u67B6\u4E2D\u4EA4\u4E92\u4F7F\u7528\u3002</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token comment">//\u5C06 ISelect \u8F6C\u4E3A IQueryable</span>
<span class="token class-name">IQueryable<span class="token punctuation">&lt;</span>Student<span class="token punctuation">&gt;</span></span> queryable <span class="token operator">=</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Student<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">AsQueryable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Linq \u65B9\u6CD5\u67E5\u8BE2</span>
<span class="token class-name"><span class="token keyword">var</span></span> t1 <span class="token operator">=</span> queryable<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>a <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span>id <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">FirstOrDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//\u5C06 IQueryable \u8FD8\u539F\u4E3A ISelect</span>
<span class="token class-name">ISelect<span class="token punctuation">&lt;</span>Studeng<span class="token punctuation">&gt;</span></span> <span class="token keyword">select</span> <span class="token operator">=</span> queryable<span class="token punctuation">.</span><span class="token function">RestoreToSelect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u6CE8\u610F\uFF1AIQueryable \u7684\u5B9E\u73B0\u76EE\u524D\u4E0D\u652F\u6301 GroupBy\uFF0C\u53EF\u4EE5\u8003\u8651\u4F7F\u7528 RestoreSelect \u65B9\u6CD5\u8F6C\u56DE ISelect \u8FDB\u884C\u67E5\u8BE2</p><h2 id="where" tabindex="-1"><a class="header-anchor" href="#where" aria-hidden="true">#</a> Where</h2><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> t1 <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token keyword">from</span> a <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Student<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">where</span> <span class="token class-name">a</span><span class="token punctuation">.</span>id <span class="token operator">==</span> item<span class="token punctuation">.</span>id
    <span class="token keyword">select</span> a
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="select-\u6307\u5B9A\u5B57\u6BB5" tabindex="-1"><a class="header-anchor" href="#select-\u6307\u5B9A\u5B57\u6BB5" aria-hidden="true">#</a> Select(\u6307\u5B9A\u5B57\u6BB5)</h2><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> t1 <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token keyword">from</span> a <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Student<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">where</span> <span class="token class-name">a</span><span class="token punctuation">.</span>id <span class="token operator">==</span> item<span class="token punctuation">.</span>id
    <span class="token keyword">select</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> a<span class="token punctuation">.</span>id <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="casewhen" tabindex="-1"><a class="header-anchor" href="#casewhen" aria-hidden="true">#</a> CaseWhen</h2><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> t1 <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token keyword">from</span> a <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Student<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">where</span> <span class="token class-name">a</span><span class="token punctuation">.</span>id <span class="token operator">==</span> item<span class="token punctuation">.</span>id
    <span class="token keyword">select</span> <span class="token keyword">new</span> <span class="token punctuation">{</span>
        a<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        a<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
        testsub <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token punctuation">{</span>
            time <span class="token operator">=</span> a<span class="token punctuation">.</span>age <span class="token operator">&gt;</span> <span class="token number">10</span> <span class="token punctuation">?</span> <span class="token string">&quot;\u5927\u4E8E&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;\u5C0F\u4E8E\u6216\u7B49\u4E8E&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="join" tabindex="-1"><a class="header-anchor" href="#join" aria-hidden="true">#</a> Join</h2><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> t1 <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token keyword">from</span> a <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Student<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">join</span> b <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>School<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">on</span> a<span class="token punctuation">.</span>id equals b<span class="token punctuation">.</span>StudentId
    <span class="token keyword">select</span> a
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> t2 <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token keyword">from</span> a <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Student<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">join</span> b <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>School<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">on</span> a<span class="token punctuation">.</span>id equals b<span class="token punctuation">.</span>StudentId
    <span class="token keyword">select</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> a<span class="token punctuation">.</span>id<span class="token punctuation">,</span> bid <span class="token operator">=</span> b<span class="token punctuation">.</span>id <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> t3 <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token keyword">from</span> a <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Student<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">join</span> b <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>School<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">on</span> a<span class="token punctuation">.</span>id equals b<span class="token punctuation">.</span>StudentId
    <span class="token keyword">where</span> <span class="token class-name">a</span><span class="token punctuation">.</span>id <span class="token operator">==</span> item<span class="token punctuation">.</span>id
    <span class="token keyword">select</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> a<span class="token punctuation">.</span>id<span class="token punctuation">,</span> bid <span class="token operator">=</span> b<span class="token punctuation">.</span>id <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="leftjoin" tabindex="-1"><a class="header-anchor" href="#leftjoin" aria-hidden="true">#</a> LeftJoin</h2><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> t1 <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token keyword">from</span> a <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Student<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">join</span> b <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>School<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">on</span> a<span class="token punctuation">.</span>id equals b<span class="token punctuation">.</span>StudentId <span class="token keyword">into</span> temp
    <span class="token keyword">from</span> tc <span class="token keyword">in</span> temp<span class="token punctuation">.</span><span class="token function">DefaultIfEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">select</span> a
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> t2 <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token keyword">from</span> a <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Student<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">join</span> b <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>School<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">on</span> a<span class="token punctuation">.</span>id equals b<span class="token punctuation">.</span>StudentId <span class="token keyword">into</span> temp
    <span class="token keyword">from</span> tc <span class="token keyword">in</span> temp<span class="token punctuation">.</span><span class="token function">DefaultIfEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">select</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> a<span class="token punctuation">.</span>id<span class="token punctuation">,</span> bid <span class="token operator">=</span> tc<span class="token punctuation">.</span>id <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> t3 <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token keyword">from</span> a <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Student<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">join</span> b <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>School<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">on</span> a<span class="token punctuation">.</span>id equals b<span class="token punctuation">.</span>StudentId <span class="token keyword">into</span> temp
    <span class="token keyword">from</span> tc <span class="token keyword">in</span> temp<span class="token punctuation">.</span><span class="token function">DefaultIfEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">where</span> <span class="token class-name">a</span><span class="token punctuation">.</span>id <span class="token operator">==</span> item<span class="token punctuation">.</span>id
    <span class="token keyword">select</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> a<span class="token punctuation">.</span>id<span class="token punctuation">,</span> bid <span class="token operator">=</span> tc<span class="token punctuation">.</span>id <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="from-\u591A\u8868\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#from-\u591A\u8868\u67E5\u8BE2" aria-hidden="true">#</a> From(\u591A\u8868\u67E5\u8BE2)</h2><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> t1 <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token keyword">from</span> a <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Student<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">from</span> b <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>School<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">where</span> <span class="token class-name">a</span><span class="token punctuation">.</span>id <span class="token operator">==</span> b<span class="token punctuation">.</span>StudentId
    <span class="token keyword">select</span> a
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> t2 <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token keyword">from</span> a <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Student<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">from</span> b <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>School<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">where</span> <span class="token class-name">a</span><span class="token punctuation">.</span>id <span class="token operator">==</span> b<span class="token punctuation">.</span>StudentId
    <span class="token keyword">select</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> a<span class="token punctuation">.</span>id<span class="token punctuation">,</span> bid <span class="token operator">=</span> b<span class="token punctuation">.</span>id <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> t3 <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token keyword">from</span> a <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Student<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">from</span> b <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>School<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">where</span> <span class="token class-name">a</span><span class="token punctuation">.</span>id <span class="token operator">==</span> b<span class="token punctuation">.</span>StudentId
    <span class="token keyword">where</span> <span class="token class-name">a</span><span class="token punctuation">.</span>id <span class="token operator">==</span> item<span class="token punctuation">.</span>id
    <span class="token keyword">select</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> a<span class="token punctuation">.</span>id<span class="token punctuation">,</span> bid <span class="token operator">=</span> b<span class="token punctuation">.</span>id <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="groupby-\u5206\u7EC4" tabindex="-1"><a class="header-anchor" href="#groupby-\u5206\u7EC4" aria-hidden="true">#</a> GroupBy(\u5206\u7EC4)</h2><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> t1 <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token keyword">from</span> a <span class="token keyword">in</span> fsql<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Student<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">where</span> <span class="token class-name">a</span><span class="token punctuation">.</span>id <span class="token operator">==</span> item<span class="token punctuation">.</span>id
    <span class="token keyword">group</span> a <span class="token keyword">by</span> <span class="token keyword">new</span> <span class="token punctuation">{</span>a<span class="token punctuation">.</span>id<span class="token punctuation">,</span> a<span class="token punctuation">.</span>name <span class="token punctuation">}</span> <span class="token keyword">into</span> g
    <span class="token keyword">select</span> <span class="token keyword">new</span> <span class="token punctuation">{</span>
        g<span class="token punctuation">.</span>Key<span class="token punctuation">.</span>id<span class="token punctuation">,</span> g<span class="token punctuation">.</span>Key<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
        cou <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">Count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        avg <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">Avg</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Value<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">,</span>
        sum <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">Sum</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Value<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">,</span>
        max <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">Max</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Value<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">,</span>
        min <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">Min</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Value<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div>`,26);function t(e,o){return p}var u=n(a,[["render",t],["__file","linq-to-sql.html.vue"]]);export{u as default};
