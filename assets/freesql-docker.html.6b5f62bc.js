import{_ as t}from"./plugin-vue_export-helper.21dcd24c.js";import{r,o as c,c as i,a as n,b as a,d as o,e}from"./app.6bb0e1b9.js";const l={},d=o('<h1 id="docker-freesql" tabindex="-1"><a class="header-anchor" href="#docker-freesql" aria-hidden="true">#</a> Docker+ FreeSql</h1><h2 id="net5-docker-encryption-ssl-tls-handshake-failed" tabindex="-1"><a class="header-anchor" href="#net5-docker-encryption-ssl-tls-handshake-failed" aria-hidden="true">#</a> .net5+Docker+ Encryption(ssl/tls) handshake failed</h2><p>.net5 \u7F51\u7AD9\u4F7F\u7528Sqlserver\u6570\u636E\u5E93\u90E8\u7F72\u5728docker\u5BB9\u5668\u5185\u8FD0\u884C\u62A5\u4E3B\u5E93\u94FE\u63A5\u5931\u8D25</p><h3 id="\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#\u73AF\u5883" aria-hidden="true">#</a> \u73AF\u5883</h3>',4),p=e("\u6570\u636E\u5E93\uFF1ASqlserver2014 \u7F51\u7AD9\u7A0B\u5E8F\uFF1A.Net5 Docker\u7248\u672C\uFF1ADocker version 19.03.13, .net5\u73AF\u5883\u955C\u50CF\u6E90\uFF1A"),u={href:"http://mcr.microsoft.com/dotnet/aspnet:5.0-buster-slim",target:"_blank",rel:"noopener noreferrer"},h=e("mcr.microsoft.com/dotnet/aspnet:5.0-buster-slim"),k=e(" Centos\u7248\u672C\uFF1ACentOS Linux release 7.9.2009 (Core)"),v=o(`<h3 id="\u4F7F\u7528\u539F\u751F\u65B9\u5F0F\u8FDB\u884C\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u539F\u751F\u65B9\u5F0F\u8FDB\u884C\u6D4B\u8BD5" aria-hidden="true">#</a> \u4F7F\u7528\u539F\u751F\u65B9\u5F0F\u8FDB\u884C\u6D4B\u8BD5</h3><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token class-name">SqlConnection</span> connection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">SqlConnection</span><span class="token punctuation">(</span><span class="token string">&quot;Data Source=xxxxx;User Id=sa;Password=xxxxxx;Initial Catalog=xxxxxxxx;Pooling=true;Min Pool Size=1;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    connection<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    connection<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    connection<span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u62A5\u9519" tabindex="-1"><a class="header-anchor" href="#\u62A5\u9519" aria-hidden="true">#</a> \u62A5\u9519</h3><p>A connection was successfully established with the server, but then an error occurred during the pre-login handshake. (provider: SSL Provider, error: 31 - Encryption(ssl/tls) handshake failed)</p><h3 id="\u6700\u7EC8\u89E3\u51B3\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#\u6700\u7EC8\u89E3\u51B3\u65B9\u6848" aria-hidden="true">#</a> \u6700\u7EC8\u89E3\u51B3\u65B9\u6848</h3><p>\u5728dockerfile\u91CC\u9762\u52A0\u4E0A\u8FD9\u4E48\u4E24\u53E5</p><div class="language-Dockerfile ext-Dockerfile line-numbers-mode"><pre class="language-Dockerfile"><code>RUN sed -i &#39;s/MinProtocol = TLSv1.2/MinProtocol = TLSv1/g&#39; /etc/ssl/openssl.cnf
RUN sed -i &#39;s/MinProtocol = TLSv1.2/MinProtocol = TLSv1/g&#39; /usr/lib/ssl/openssl.cnf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5C06TLSv1.2\u8BBE\u4E3ATLSv1\uFF0C\u53EA\u80FD\u662F\u8BBE\u4E3ATLSv1\u800C\u4E0D\u662F\u8BBE\u4E3ATLSv1.0</strong></p><h2 id="\u539F\u6587\u94FE\u63A5" tabindex="-1"><a class="header-anchor" href="#\u539F\u6587\u94FE\u63A5" aria-hidden="true">#</a> \u539F\u6587\u94FE\u63A5</h2>`,9),f={href:"https://github.com/dotnetcore/FreeSql/issues/650",target:"_blank",rel:"noopener noreferrer"},m=e(".net5 \u7F51\u7AD9\u4F7F\u7528Sqlserver\u6570\u636E\u5E93\u90E8\u7F72\u5728docker\u5BB9\u5668\u5185\u8FD0\u884C\u62A5\u4E3B\u5E93\u94FE\u63A5\u5931\u8D25 \xB7 Issue #650 \xB7 dotnetcore/FreeSql (github.com)");function x(_,b){const s=r("ExternalLinkIcon");return c(),i("div",null,[d,n("p",null,[p,n("a",u,[h,a(s)]),k]),v,n("ul",null,[n("li",null,[n("a",f,[m,a(s)])])])])}var q=t(l,[["render",x],["__file","freesql-docker.html.vue"]]);export{q as default};
